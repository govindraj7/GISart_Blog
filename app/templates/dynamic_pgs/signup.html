{% extends 'base.html' %} {% block body %}
<section id="signup" class="container">
  <h1>Signup</h1>
  <p>
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi minus
    laborum nesciunt amet animi, neque ut quas cum maxime labore quia odit
    saepe, quidem inventore vero perferendis incidunt porro tempore!
  </p>

  {% for message in get_flashed_messages() %}

  <div class="alert alert-success alert-dismissible fade show" role="alert">
    Welcome {{ user_name }}! {{ message }}
    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="alert"
      aria-label="Close"
    ></button>
  </div>

  {% endfor %} {% if user_name %}
  <p>Hello {{ user_name }}!!</p>

  <h2>Test to see db working:</h2>
  <br />
  <br />
  <p>
    {% for test in testing_db %} {{ test.id }}. {{ test.user_name }} - {{
    test.email}} <br />
    {% endfor %}
  </p>
  {% else %}
  <br />
  <!-- signup form -->
  <form method="POST" class="flex justify-content-md-center">
    <!--  generates a hidden field that includes a token that is used to protect the form against CSRF attacks, becauses hackers deffo want to target this -->
    {{ form.hidden_tag() }}
    <!-- the form -->
    <!-- * user name -->
    {{ form.user_name.label (class="form-label") }} {{
    form.user_name(class="form-control") }}
    <br />
    <!-- * first name -->
    {{ form.first_name.label (class="form-label") }} {{
    form.first_name(class="form-control") }}
    <br />
    <!-- * last name -->
    {{ form.last_name.label (class="form-label") }} {{
    form.last_name(class="form-control") }}
    <br />
    <!-- * email -->
    {{ form.email.label (class="form-label") }} {{
    form.email(class="form-control") }}
    <br />
    <br />
    {{ form.submit(class="btn btn-primary") }}
  </form>
</section>

{% endif %} {% endblock %}
